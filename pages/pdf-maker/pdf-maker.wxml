<view class="container" style="{{pageStyleGlobal}}">
  <view class="header">
    <text class="title">图片转PDF工具</text>
  </view>
  
  <view class="content">
    <view class="image-list">
      <block wx:for="{{images}}" wx:key="index">
        <view class="image-item {{draggingIndex === index ? 'dragging' : ''}} {{draggingTarget === index ? 'target' : ''}}"
                      bindtouchstart="onTouchStart" 
                      bindtouchmove="onTouchMove" 
                      bindtouchend="onTouchEnd" 
                      data-index="{{index}}">
          <image src="{{item.path}}" mode="aspectFill" bindtap="previewImage" data-url="{{item.path}}"></image>
          <view class="delete-btn" catchtap="deleteImage" data-index="{{index}}">×</view>
        </view>
      </block>
      <view class="add-btn" bindtap="chooseImage" wx:if="{{images.length < 32}}">
        <text class="add-icon">+</text>
      </view>
    </view>
  </view>

  <view class="footer">
    <button class="generate-btn" bindtap="generatePDF" disabled="{{images.length === 0}}">
      生成PDF
    </button>
  </view>
</view> 